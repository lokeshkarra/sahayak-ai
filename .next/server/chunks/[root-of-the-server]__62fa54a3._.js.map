{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 60, "column": 0}, "map": {"version":3,"sources":["file:///home/lokeshkarra/Downloads/pilot-project/src/app/api/mcp/route.ts"],"sourcesContent":["// This file acts as a proxy to the fi-mcp-dev server.\n// It's a workaround for CORS issues when calling from the browser.\n// The client-side code will call this API route, which then forwards\n// the request to the actual MCP server from the backend.\n\nimport { NextRequest, NextResponse } from 'next/server';\n\nconst MCP_SERVER_URL = 'http://localhost:8080/mcp/stream';\n\nexport async function POST(req: NextRequest) {\n  try {\n    const { mcpSessionId, method, params } = await req.json();\n\n    if (!mcpSessionId || !method || !params) {\n      return NextResponse.json({ error: 'Missing required parameters' }, { status: 400 });\n    }\n\n    const mcpResponse = await fetch(MCP_SERVER_URL, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Mcp-Session-Id': mcpSessionId,\n      },\n      body: JSON.stringify({\n        jsonrpc: '2.0',\n        id: 1, // Using a static ID is fine for this proxy\n        method: method,\n        params: params,\n      }),\n    });\n\n    const data = await mcpResponse.json();\n    return NextResponse.json(data, { status: mcpResponse.status });\n    \n  } catch (error) {\n    console.error('MCP Proxy Error:', error);\n    if (error instanceof Error && (error as any).code === 'ECONNREFUSED') {\n       return NextResponse.json({ \n         error: 'Could not connect to the MCP server. Please ensure it is running on http://localhost:8080.' \n        }, { status: 502 }); // Bad Gateway\n    }\n    return NextResponse.json({ error: 'An internal server error occurred.' }, { status: 500 });\n  }\n}\n"],"names":[],"mappings":"AAAA,sDAAsD;AACtD,mEAAmE;AACnE,qEAAqE;AACrE,yDAAyD;;;;AAEzD;;AAEA,MAAM,iBAAiB;AAEhB,eAAe,KAAK,GAAgB;IACzC,IAAI;QACF,MAAM,EAAE,YAAY,EAAE,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,IAAI,IAAI;QAEvD,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC,QAAQ;YACvC,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAA8B,GAAG;gBAAE,QAAQ;YAAI;QACnF;QAEA,MAAM,cAAc,MAAM,MAAM,gBAAgB;YAC9C,QAAQ;YACR,SAAS;gBACP,gBAAgB;gBAChB,kBAAkB;YACpB;YACA,MAAM,KAAK,SAAS,CAAC;gBACnB,SAAS;gBACT,IAAI;gBACJ,QAAQ;gBACR,QAAQ;YACV;QACF;QAEA,MAAM,OAAO,MAAM,YAAY,IAAI;QACnC,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC,MAAM;YAAE,QAAQ,YAAY,MAAM;QAAC;IAE9D,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,oBAAoB;QAClC,IAAI,iBAAiB,SAAS,AAAC,MAAc,IAAI,KAAK,gBAAgB;YACnE,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;gBACvB,OAAO;YACR,GAAG;gBAAE,QAAQ;YAAI,IAAI,cAAc;QACvC;QACA,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAqC,GAAG;YAAE,QAAQ;QAAI;IAC1F;AACF","debugId":null}}]
}