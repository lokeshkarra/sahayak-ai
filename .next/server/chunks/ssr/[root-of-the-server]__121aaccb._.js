module.exports = {

"[externals]/perf_hooks [external] (perf_hooks, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("perf_hooks", () => require("perf_hooks"));

module.exports = mod;
}}),
"[externals]/node:perf_hooks [external] (node:perf_hooks, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("node:perf_hooks", () => require("node:perf_hooks"));

module.exports = mod;
}}),
"[externals]/async_hooks [external] (async_hooks, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("async_hooks", () => require("async_hooks"));

module.exports = mod;
}}),
"[externals]/events [external] (events, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("events", () => require("events"));

module.exports = mod;
}}),
"[externals]/os [external] (os, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("os", () => require("os"));

module.exports = mod;
}}),
"[externals]/process [external] (process, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("process", () => require("process"));

module.exports = mod;
}}),
"[externals]/child_process [external] (child_process, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("child_process", () => require("child_process"));

module.exports = mod;
}}),
"[externals]/util [external] (util, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("util", () => require("util"));

module.exports = mod;
}}),
"[externals]/fs [external] (fs, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("fs", () => require("fs"));

module.exports = mod;
}}),
"[externals]/crypto [external] (crypto, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("crypto", () => require("crypto"));

module.exports = mod;
}}),
"[externals]/require-in-the-middle [external] (require-in-the-middle, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("require-in-the-middle", () => require("require-in-the-middle"));

module.exports = mod;
}}),
"[externals]/import-in-the-middle [external] (import-in-the-middle, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("import-in-the-middle", () => require("import-in-the-middle"));

module.exports = mod;
}}),
"[externals]/http [external] (http, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("http", () => require("http"));

module.exports = mod;
}}),
"[externals]/https [external] (https, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("https", () => require("https"));

module.exports = mod;
}}),
"[externals]/zlib [external] (zlib, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("zlib", () => require("zlib"));

module.exports = mod;
}}),
"[externals]/stream [external] (stream, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("stream", () => require("stream"));

module.exports = mod;
}}),
"[externals]/tls [external] (tls, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("tls", () => require("tls"));

module.exports = mod;
}}),
"[externals]/net [external] (net, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("net", () => require("net"));

module.exports = mod;
}}),
"[externals]/http2 [external] (http2, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("http2", () => require("http2"));

module.exports = mod;
}}),
"[externals]/dns [external] (dns, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("dns", () => require("dns"));

module.exports = mod;
}}),
"[externals]/node:async_hooks [external] (node:async_hooks, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("node:async_hooks", () => require("node:async_hooks"));

module.exports = mod;
}}),
"[externals]/buffer [external] (buffer, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("buffer", () => require("buffer"));

module.exports = mod;
}}),
"[externals]/express [external] (express, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("express", () => require("express"));

module.exports = mod;
}}),
"[externals]/fs/promises [external] (fs/promises, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("fs/promises", () => require("fs/promises"));

module.exports = mod;
}}),
"[externals]/node:crypto [external] (node:crypto, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("node:crypto", () => require("node:crypto"));

module.exports = mod;
}}),
"[project]/src/ai/genkit.ts [app-rsc] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "ai": (()=>ai)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$genkit$2f$lib$2f$index$2e$mjs__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/node_modules/genkit/lib/index.mjs [app-rsc] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$genkit$2f$lib$2f$genkit$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/genkit/lib/genkit.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$genkit$2d$ai$2f$googleai$2f$lib$2f$index$2e$mjs__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/node_modules/@genkit-ai/googleai/lib/index.mjs [app-rsc] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$genkit$2d$ai$2f$googleai$2f$lib$2f$index$2e$mjs__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@genkit-ai/googleai/lib/index.mjs [app-rsc] (ecmascript) <locals>");
;
;
const ai = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$genkit$2f$lib$2f$genkit$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["genkit"])({
    plugins: [
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$genkit$2d$ai$2f$googleai$2f$lib$2f$index$2e$mjs__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__$3c$locals$3e$__["googleAI"])()
    ],
    model: 'googleai/gemini-2.0-flash'
});
}}),
"[externals]/assert [external] (assert, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("assert", () => require("assert"));

module.exports = mod;
}}),
"[externals]/tty [external] (tty, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("tty", () => require("tty"));

module.exports = mod;
}}),
"[project]/src/ai/flows/voice-query.ts [app-rsc] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
/* __next_internal_action_entry_do_not_use__ [{"4029509e3bdf128390f536ca203c2aa20ffe9a7d1f":"voiceQuery"},"",""] */ __turbopack_context__.s({
    "voiceQuery": (()=>voiceQuery)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/server-reference.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$app$2d$render$2f$encryption$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/app-render/encryption.js [app-rsc] (ecmascript)");
/**
 * @fileOverview A voice query AI agent for financial insights.
 *
 * - voiceQuery - A function that handles voice queries and returns financial insights.
 * - VoiceQueryInput - The input type for the voiceQuery function.
 * - VoiceQueryOutput - The return type for the voiceQuery function.
 */ var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$ai$2f$genkit$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/ai/genkit.ts [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$genkit$2f$lib$2f$index$2e$mjs__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/node_modules/genkit/lib/index.mjs [app-rsc] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$genkit$2f$lib$2f$common$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/genkit/lib/common.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$validate$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-validate.js [app-rsc] (ecmascript)");
;
;
;
;
const VoiceQueryInputSchema = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$genkit$2f$lib$2f$common$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["z"].object({
    query: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$genkit$2f$lib$2f$common$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["z"].string().describe('The voice query from the user.'),
    financialData: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$genkit$2f$lib$2f$common$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["z"].string().describe('Consolidated financial data, including assets, liabilities, net worth, etc.')
});
const VoiceQueryOutputSchema = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$genkit$2f$lib$2f$common$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["z"].object({
    insight: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$genkit$2f$lib$2f$common$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["z"].string().describe('The financial insight generated from the voice query.'),
    audio: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$genkit$2f$lib$2f$common$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["z"].any().describe('The audio response for the financial insight.')
});
async function voiceQuery(input) {
    return voiceQueryFlow(input);
}
const voiceQueryPrompt = __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$ai$2f$genkit$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["ai"].definePrompt({
    name: 'voiceQueryPrompt',
    input: {
        schema: VoiceQueryInputSchema
    },
    output: {
        schema: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$genkit$2f$lib$2f$common$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["z"].object({
            insight: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$genkit$2f$lib$2f$common$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["z"].string()
        })
    },
    prompt: `You are **Personal Chanakya**, a strategic AI finance advisor built on Indian financial wisdom and powered by Gemini.

You help users make sense of their financial life using real data from the Fi MCP Server. The user will provide structured financial data in JSON format.

Your response should be concise and suitable for a voice assistant.

---

### 🧠 Your Behavior:

-   Be **conversational**, **wise**, and **strategic** like Chanakya.
-   Focus on **clarity**, **actionable suggestions**, and **trust**.
-   Don’t give generic advice — always use the user’s actual data.
-   It is crucial that you respond in the same language as the user's question.

---

### 🧾 Input Data

Here is the user's financial data in JSON format:
{{{financialData}}}

---

Now, answer the user's question based on their data. Keep the answer concise for a voice response.

User Question: {{{query}}}`
});
const voiceQueryFlow = __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$ai$2f$genkit$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["ai"].defineFlow({
    name: 'voiceQueryFlow',
    inputSchema: VoiceQueryInputSchema,
    outputSchema: VoiceQueryOutputSchema
}, async (input)=>{
    const { output: textOutput } = await voiceQueryPrompt(input);
    const { media } = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$ai$2f$genkit$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["ai"].generate({
        model: 'googleai/gemini-2.5-flash-preview-tts',
        config: {
            responseModalities: [
                'AUDIO'
            ],
            speechConfig: {
                voiceConfig: {
                    prebuiltVoiceConfig: {
                        voiceName: 'Algenib'
                    }
                }
            }
        },
        prompt: textOutput.insight
    });
    if (!media) {
        throw new Error('no media returned');
    }
    const audioBuffer = Buffer.from(media.url.substring(media.url.indexOf(',') + 1), 'base64');
    const wavData = await toWav(audioBuffer);
    return {
        insight: textOutput.insight,
        audio: 'data:audio/wav;base64,' + wavData
    };
});
async function toWav(pcmData, channels = 1, rate = 24000, sampleWidth = 2) {
    // eslint-disable-next-line @typescript-eslint/no-var-requires
    const wav = __turbopack_context__.r("[project]/node_modules/wav/index.js [app-rsc] (ecmascript)");
    return new Promise((resolve, reject)=>{
        const writer = new wav.Writer({
            channels,
            sampleRate: rate,
            bitDepth: sampleWidth * 8
        });
        let bufs = [];
        writer.on('error', reject);
        writer.on('data', function(d) {
            bufs.push(d);
        });
        writer.on('end', function() {
            resolve(Buffer.concat(bufs).toString('base64'));
        });
        writer.write(pcmData);
        writer.end();
    });
}
;
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$validate$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["ensureServerEntryExports"])([
    voiceQuery
]);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(voiceQuery, "4029509e3bdf128390f536ca203c2aa20ffe9a7d1f", null);
}}),
"[project]/.next-internal/server/app/(protected)/page/actions.js { ACTIONS_MODULE0 => \"[project]/src/ai/flows/voice-query.ts [app-rsc] (ecmascript)\" } [app-rsc] (server actions loader, ecmascript) <locals>": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({});
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$ai$2f$flows$2f$voice$2d$query$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/ai/flows/voice-query.ts [app-rsc] (ecmascript)");
;
}}),
"[project]/.next-internal/server/app/(protected)/page/actions.js { ACTIONS_MODULE0 => \"[project]/src/ai/flows/voice-query.ts [app-rsc] (ecmascript)\" } [app-rsc] (server actions loader, ecmascript) <module evaluation>": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({});
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$ai$2f$flows$2f$voice$2d$query$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/ai/flows/voice-query.ts [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f2e$next$2d$internal$2f$server$2f$app$2f28$protected$292f$page$2f$actions$2e$js__$7b$__ACTIONS_MODULE0__$3d3e$__$225b$project$5d2f$src$2f$ai$2f$flows$2f$voice$2d$query$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$2922$__$7d$__$5b$app$2d$rsc$5d$__$28$server__actions__loader$2c$__ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i('[project]/.next-internal/server/app/(protected)/page/actions.js { ACTIONS_MODULE0 => "[project]/src/ai/flows/voice-query.ts [app-rsc] (ecmascript)" } [app-rsc] (server actions loader, ecmascript) <locals>');
}}),
"[project]/.next-internal/server/app/(protected)/page/actions.js { ACTIONS_MODULE0 => \"[project]/src/ai/flows/voice-query.ts [app-rsc] (ecmascript)\" } [app-rsc] (server actions loader, ecmascript) <exports>": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "4029509e3bdf128390f536ca203c2aa20ffe9a7d1f": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$ai$2f$flows$2f$voice$2d$query$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["voiceQuery"])
});
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$ai$2f$flows$2f$voice$2d$query$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/ai/flows/voice-query.ts [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f2e$next$2d$internal$2f$server$2f$app$2f28$protected$292f$page$2f$actions$2e$js__$7b$__ACTIONS_MODULE0__$3d3e$__$225b$project$5d2f$src$2f$ai$2f$flows$2f$voice$2d$query$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$2922$__$7d$__$5b$app$2d$rsc$5d$__$28$server__actions__loader$2c$__ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i('[project]/.next-internal/server/app/(protected)/page/actions.js { ACTIONS_MODULE0 => "[project]/src/ai/flows/voice-query.ts [app-rsc] (ecmascript)" } [app-rsc] (server actions loader, ecmascript) <locals>');
}}),
"[project]/.next-internal/server/app/(protected)/page/actions.js { ACTIONS_MODULE0 => \"[project]/src/ai/flows/voice-query.ts [app-rsc] (ecmascript)\" } [app-rsc] (server actions loader, ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "4029509e3bdf128390f536ca203c2aa20ffe9a7d1f": (()=>__TURBOPACK__imported__module__$5b$project$5d2f2e$next$2d$internal$2f$server$2f$app$2f28$protected$292f$page$2f$actions$2e$js__$7b$__ACTIONS_MODULE0__$3d3e$__$225b$project$5d2f$src$2f$ai$2f$flows$2f$voice$2d$query$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$2922$__$7d$__$5b$app$2d$rsc$5d$__$28$server__actions__loader$2c$__ecmascript$29$__$3c$exports$3e$__["4029509e3bdf128390f536ca203c2aa20ffe9a7d1f"])
});
var __TURBOPACK__imported__module__$5b$project$5d2f2e$next$2d$internal$2f$server$2f$app$2f28$protected$292f$page$2f$actions$2e$js__$7b$__ACTIONS_MODULE0__$3d3e$__$225b$project$5d2f$src$2f$ai$2f$flows$2f$voice$2d$query$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$2922$__$7d$__$5b$app$2d$rsc$5d$__$28$server__actions__loader$2c$__ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i('[project]/.next-internal/server/app/(protected)/page/actions.js { ACTIONS_MODULE0 => "[project]/src/ai/flows/voice-query.ts [app-rsc] (ecmascript)" } [app-rsc] (server actions loader, ecmascript) <module evaluation>');
var __TURBOPACK__imported__module__$5b$project$5d2f2e$next$2d$internal$2f$server$2f$app$2f28$protected$292f$page$2f$actions$2e$js__$7b$__ACTIONS_MODULE0__$3d3e$__$225b$project$5d2f$src$2f$ai$2f$flows$2f$voice$2d$query$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$2922$__$7d$__$5b$app$2d$rsc$5d$__$28$server__actions__loader$2c$__ecmascript$29$__$3c$exports$3e$__ = __turbopack_context__.i('[project]/.next-internal/server/app/(protected)/page/actions.js { ACTIONS_MODULE0 => "[project]/src/ai/flows/voice-query.ts [app-rsc] (ecmascript)" } [app-rsc] (server actions loader, ecmascript) <exports>');
}}),
"[project]/src/app/favicon.ico.mjs { IMAGE => \"[project]/src/app/favicon.ico (static in ecmascript)\" } [app-rsc] (structured image object, ecmascript, Next.js server component)": ((__turbopack_context__) => {

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.n(__turbopack_context__.i("[project]/src/app/favicon.ico.mjs { IMAGE => \"[project]/src/app/favicon.ico (static in ecmascript)\" } [app-rsc] (structured image object, ecmascript)"));
}}),
"[project]/src/app/layout.tsx [app-rsc] (ecmascript, Next.js server component)": ((__turbopack_context__) => {

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.n(__turbopack_context__.i("[project]/src/app/layout.tsx [app-rsc] (ecmascript)"));
}}),
"[project]/src/app/(protected)/layout.tsx [app-rsc] (ecmascript, Next.js server component)": ((__turbopack_context__) => {

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.n(__turbopack_context__.i("[project]/src/app/(protected)/layout.tsx [app-rsc] (ecmascript)"));
}}),
"[project]/src/app/(protected)/page.tsx [app-rsc] (ecmascript)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
// "use client";
// import { useState, useEffect } from "react";
// import { useRouter } from "next/navigation";
// import { Button } from "@/components/ui/button";
// import { Card, CardContent, CardDescription, CardHeader, CardTitle } from "@/components/ui/card";
// import { Tabs, TabsContent, TabsList, TabsTrigger } from "@/components/ui/tabs";
// import { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from "@/components/ui/table";
// import { Loader, TrendingUp, TrendingDown, Briefcase } from "lucide-react";
// import { Logo } from "@/components/logo";
// import { McpClient } from "@/services/mcp-client"; // Adjust this path if your mcp-client.ts is elsewhere
// // --- TYPE DEFINITIONS (Unchanged from your provided code) ---
// interface Value {
//   currencyCode: string;
//   units: string;
// }
// interface AssetValue {
//   netWorthAttribute: string;
//   value: Value;
// }
// interface LiabilityValue {
//   netWorthAttribute: string;
//   value: Value;
// }
// interface AccountDetailsInfo {
//     maskedAccountNumber: string;
//     accInstrumentType: string;
//     fipMeta: {
//         displayName: string;
//     }
//     depositSummary?: {
//         currentBalance: Value;
//     }
//     equitySummary?: {
//         currentValue: Value;
//     }
// }
// interface NetWorthData {
//   assetValues: AssetValue[];
//   liabilityValues: LiabilityValue[];
//   totalNetWorthValue: Value;
//   accountDetailsBulkResponse?: {
//       accountDetailsMap: Record<string, { accountDetails: AccountDetailsInfo }>;
//   }
// }
// type BankTransaction = [string, string, string, number, string, string];
// interface BankTransactionsData {
//     bank: string;
//     txns: BankTransaction[];
// }
// interface CreditAccountDetails {
//     subscriberName: string;
//     accountType: string;
//     highestCreditOrOriginalLoanAmount: string;
//     currentBalance: string;
//     amountPastDue: string;
// }
// interface CreditReportData {
//     creditAccount: {
//         creditAccountDetails: CreditAccountDetails[];
//     }
//     score: {
//         bureauScore: string;
//     }
// }
// interface EPFEstablishment {
//     est_name: string;
//     pf_balance: {
//         net_balance: string;
//     }
// }
// interface EPFData {
//     est_details: EPFEstablishment[];
//     overall_pf_balance: {
//         current_pf_balance: string;
//     }
// }
// // --- HELPER & UI COMPONENTS (Unchanged) ---
// const formatCurrency = (value: string | number) => {
//     return new Intl.NumberFormat('en-IN', {
//       style: 'currency',
//       currency: 'INR',
//       minimumFractionDigits: 0,
//       maximumFractionDigits: 0,
//     }).format(Number(value));
// };
// const formatTitle = (title: string) => {
//     return title.replace(/_/g, ' ').replace('ASSET TYPE', '').replace('LIABILITY TYPE', '').replace('ACC INSTRUMENT TYPE', '').trim();
// }
// const CreditScoreGauge = ({ score }: { score: number }) => {
//     const getScoreColor = (s: number) => {
//         if (s > 750) return "text-green-500";
//         if (s > 650) return "text-yellow-500";
//         return "text-red-500";
//     };
//     return (
//         <Card className="bg-gray-900/50">
//             <CardHeader>
//                 <CardTitle>Credit Score</CardTitle>
//                 <CardDescription>Provided by Experian</CardDescription>
//             </CardHeader>
//             <CardContent className="flex items-center justify-center py-8">
//                 <div className={`text-6xl font-bold ${getScoreColor(score)}`}>
//                     {score}
//                 </div>
//             </CardContent>
//         </Card>
//     );
// };
// const NetWorthSummary = ({ data }: { data: NetWorthData }) => {
//     const totalAssets = data?.assetValues?.reduce((sum, asset) => sum + Number(asset.value.units), 0) || 0;
//     const totalLiabilities = data?.liabilityValues?.reduce((sum, liability) => sum + Number(liability.value.units), 0) || 0;
//     return (
//         <Card className="bg-gray-900/50 col-span-1 md:col-span-2">
//             <CardHeader>
//                 <CardTitle>Financial Overview</CardTitle>
//                 <CardDescription>A snapshot of your assets and liabilities.</CardDescription>
//             </CardHeader>
//             <CardContent className="space-y-4">
//                 <div className="text-center">
//                     <p className="text-sm text-gray-400">Total Net Worth</p>
//                     <p className="text-4xl font-bold text-green-400">{formatCurrency(data?.totalNetWorthValue?.units || 0)}</p>
//                 </div>
//                 <div className="flex justify-around items-center pt-4">
//                     <div className="text-center">
//                         <p className="text-sm text-gray-400">Total Assets</p>
//                         <p className="text-2xl font-semibold text-white">{formatCurrency(totalAssets)}</p>
//                     </div>
//                     <div className="text-center">
//                         <p className="text-sm text-gray-400">Total Liabilities</p>
//                         <p className="text-2xl font-semibold text-white">{formatCurrency(totalLiabilities)}</p>
//                     </div>
//                 </div>
//             </CardContent>
//         </Card>
//     )
// };
// // --- MAIN DASHBOARD PAGE ---
// export default function DashboardPage() {
//     const [data, setData] = useState<{
//         netWorth: NetWorthData;
//         bankTransactions: BankTransactionsData[];
//         creditReport: CreditReportData;
//         epfDetails: EPFData;
//     } | null>(null);
//     const [isLoading, setIsLoading] = useState(true);
//     const [error, setError] = useState("");
//     const router = useRouter();
//     useEffect(() => {
//         const user = sessionStorage.getItem("mcp-user");
//         if (!user) {
//             router.push("/"); // Redirect to login page if no user in session
//             return;
//         }
//         // This is the new data fetching logic that calls your MCP server
//         const fetchAndSetData = async () => {
//             setIsLoading(true);
//             setError("");
//             try {
//                 const mcpClient = new McpClient();
//                 // Call all the tools concurrently for better performance
//                 const [
//                     netWorthRes,
//                     bankTransactionsRes,
//                     creditReportRes,
//                     epfDetailsRes
//                 ] = await Promise.all([
//                     mcpClient.callTool('fetch_net_worth'),
//                     mcpClient.callTool('fetch_bank_transactions'),
//                     mcpClient.callTool('fetch_credit_report'),
//                     mcpClient.callTool('fetch_epf_details'),
//                 ]);
//                 // Structure the data to match what the UI components expect
//                 const structuredData = {
//                     netWorth: netWorthRes.netWorthResponse,
//                     bankTransactions: bankTransactionsRes.bankTransactions,
//                     creditReport: creditReportRes.creditReports[0].creditReportData,
//                     epfDetails: epfDetailsRes.uanAccounts[0].rawDetails,
//                 };
//                 setData(structuredData);
//             } catch (err: any) {
//                 console.error("Dashboard Fetch Error:", err);
//                 setError(err.message || "An unknown error occurred while fetching your data.");
//             } finally {
//                 setIsLoading(false);
//             }
//         };
//         fetchAndSetData();
//     }, [router]);
//     if (isLoading) {
//         return (
//             <main className="flex items-center justify-center min-h-screen bg-black text-white">
//                 <Loader className="mr-2 h-8 w-8 animate-spin" />
//                 <p>Connecting to MCP Server and fetching your financial data...</p>
//             </main>
//         );
//     }
//     if (error || !data) {
//          return (
//             <main className="flex flex-col items-center justify-center min-h-screen bg-black text-white">
//                 <div className="bg-red-900/20 border border-red-500/50 p-6 rounded-lg text-center">
//                     <h2 className="text-xl font-bold text-red-400 mb-2">Failed to Load Dashboard</h2>
//                     <p className="text-red-300 mb-4">{error}</p>
//                     <Button variant="secondary" onClick={() => window.location.reload()}>Try Again</Button>
//                 </div>
//             </main>
//         );
//     }
//     // --- JSX RENDER (Unchanged, but now powered by live data) ---
//     return (
//         <main className="min-h-screen bg-black text-white p-4 sm:p-6 lg:p-8">
//             <header className="flex justify-between items-center mb-6">
//                 <div className="flex items-center gap-3">
//                     <Logo />
//                     <h1 className="text-2xl font-bold">Dashboard</h1>
//                 </div>
//                 <Button variant="outline" onClick={() => {
//                     // Clear all session data on logout for a clean slate
//                     sessionStorage.clear();
//                     router.push('/');
//                 }}>Logout</Button>
//             </header>
//             <Tabs defaultValue="overview" className="w-full">
//                 <TabsList className="grid w-full grid-cols-2 md:grid-cols-4 bg-gray-900/80">
//                     <TabsTrigger value="overview">Overview</TabsTrigger>
//                     <TabsTrigger value="accounts">Accounts</TabsTrigger>
//                     <TabsTrigger value="transactions">Bank Transactions</TabsTrigger>
//                     <TabsTrigger value="credit">Credit Report</TabsTrigger>
//                 </TabsList>
//                 <TabsContent value="overview" className="mt-6">
//                     <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
//                         <NetWorthSummary data={data.netWorth} />
//                         <CreditScoreGauge score={Number(data.creditReport?.score?.bureauScore || 0)} />
//                         <Card className="bg-gray-900/50">
//                             <CardHeader><CardTitle className="flex items-center gap-2"><TrendingUp className="text-green-500" /> Assets</CardTitle></CardHeader>
//                             <CardContent>
//                                 {(data.netWorth?.assetValues || []).map((asset: AssetValue) => (
//                                     <div key={asset.netWorthAttribute} className="flex justify-between items-center text-sm mb-2">
//                                         <p className="text-gray-300 capitalize">{formatTitle(asset.netWorthAttribute)}</p>
//                                         <p className="font-medium">{formatCurrency(asset.value.units)}</p>
//                                     </div>
//                                 ))}
//                             </CardContent>
//                         </Card>
//                         <Card className="bg-gray-900/50">
//                             <CardHeader><CardTitle className="flex items-center gap-2"><TrendingDown className="text-red-500" /> Liabilities</CardTitle></CardHeader>
//                             <CardContent>
//                                 {(data.netWorth?.liabilityValues || []).map((liability: LiabilityValue) => (
//                                      <div key={liability.netWorthAttribute} className="flex justify-between items-center text-sm mb-2">
//                                         <p className="text-gray-300 capitalize">{formatTitle(liability.netWorthAttribute)}</p>
//                                         <p className="font-medium">{formatCurrency(liability.value.units)}</p>
//                                     </div>
//                                 ))}
//                             </CardContent>
//                         </Card>
//                          <Card className="bg-gray-900/50">
//                             <CardHeader><CardTitle className="flex items-center gap-2"><Briefcase className="text-blue-400" /> EPF Summary</CardTitle></CardHeader>
//                              <CardContent>
//                                 <div className="flex justify-between items-center text-lg mb-2">
//                                     <p className="text-gray-300">Total PF Balance</p>
//                                     <p className="font-bold">{formatCurrency(data.epfDetails?.overall_pf_balance?.current_pf_balance || 0)}</p>
//                                 </div>
//                                 {(data.epfDetails?.est_details || []).map((est: EPFEstablishment) => (
//                                      <div key={est.est_name} className="flex justify-between items-center text-sm mt-4">
//                                         <p className="text-gray-400">{est.est_name}</p>
//                                         <p className="font-medium">{formatCurrency(est.pf_balance.net_balance)}</p>
//                                     </div>
//                                 ))}
//                             </CardContent>
//                         </Card>
//                     </div>
//                 </TabsContent>
//                 <TabsContent value="accounts" className="mt-6">
//                      <Card className="bg-gray-900/50">
//                          <CardHeader><CardTitle>Account Details</CardTitle></CardHeader>
//                          <CardContent>
//                             <Table>
//                                 <TableHeader>
//                                     <TableRow>
//                                         <TableHead>Institution</TableHead>
//                                         <TableHead>Account Type</TableHead>
//                                         <TableHead>Account Number</TableHead>
//                                         <TableHead className="text-right">Balance / Value</TableHead>
//                                     </TableRow>
//                                 </TableHeader>
//                                 <TableBody>
//                                     {Object.values(data.netWorth?.accountDetailsBulkResponse?.accountDetailsMap || {}).map((item: {accountDetails: AccountDetailsInfo}) => (
//                                         <TableRow key={item.accountDetails.maskedAccountNumber}>
//                                             <TableCell className="font-medium">{item.accountDetails.fipMeta.displayName}</TableCell>
//                                             <TableCell className="capitalize">{formatTitle(item.accountDetails.accInstrumentType)}</TableCell>
//                                             <TableCell>{item.accountDetails.maskedAccountNumber}</TableCell>
//                                             <TableCell className="text-right font-bold">
//                                                 {formatCurrency(item.accountDetails.depositSummary?.currentBalance?.units || item.accountDetails.equitySummary?.currentValue?.units || '0')}
//                                             </TableCell>
//                                         </TableRow>
//                                     ))}
//                                 </TableBody>
//                             </Table>
//                          </CardContent>
//                      </Card>
//                 </TabsContent>
//                 <TabsContent value="transactions" className="mt-6">
//                     <Card className="bg-gray-900/50">
//                         <CardHeader><CardTitle>Recent Bank Transactions</CardTitle></CardHeader>
//                         <CardContent>
//                              <Table>
//                                 <TableHeader>
//                                     <TableRow>
//                                         <TableHead>Date</TableHead>
//                                         <TableHead>Bank</TableHead>
//                                         <TableHead>Description</TableHead>
//                                         <TableHead className="text-right">Amount</TableHead>
//                                     </TableRow>
//                                 </TableHeader>
//                                 <TableBody>
//                                     {(data.bankTransactions?.[0]?.txns || []).slice(0, 25).map((txn: BankTransaction, index: number) => (
//                                         <TableRow key={index}>
//                                             <TableCell>{txn[2]}</TableCell>
//                                             <TableCell>{data.bankTransactions[0].bank}</TableCell>
//                                             <TableCell className="text-gray-400 text-xs">{txn[1]}</TableCell>
//                                             <TableCell className={`text-right font-semibold ${txn[3] === 1 ? 'text-green-500' : 'text-red-500'}`}>
//                                                 {txn[3] === 1 ? '+' : '-'} {formatCurrency(txn[0])}
//                                             </TableCell>
//                                         </TableRow>
//                                     ))}
//                                 </TableBody>
//                             </Table>
//                         </CardContent>
//                     </Card>
//                 </TabsContent>
//                 <TabsContent value="credit" className="mt-6">
//                      <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
//                         <div className="md:col-span-1">
//                             <CreditScoreGauge score={Number(data.creditReport?.score?.bureauScore || 0)} />
//                         </div>
//                         <div className="md:col-span-2">
//                             <Card className="bg-gray-900/50">
//                                 <CardHeader><CardTitle>Loan & Credit Accounts</CardTitle></CardHeader>
//                                 <CardContent>
//                                     <Table>
//                                         <TableHeader>
//                                             <TableRow>
//                                                 <TableHead>Lender</TableHead>
//                                                 <TableHead>Type</TableHead>
//                                                 <TableHead className="text-right">Balance</TableHead>
//                                                 <TableHead className="text-right">Past Due</TableHead>
//                                             </TableRow>
//                                         </TableHeader>
//                                         <TableBody>
//                                             {(data.creditReport?.creditAccount?.creditAccountDetails || []).map((acc: CreditAccountDetails, index: number) => (
//                                                 <TableRow key={`${acc.subscriberName}-${index}`}>
//                                                     <TableCell>{acc.subscriberName}</TableCell>
//                                                     <TableCell>Loan/Credit</TableCell>
//                                                     <TableCell className="text-right">{formatCurrency(acc.currentBalance)}</TableCell>
//                                                     <TableCell className={`text-right ${Number(acc.amountPastDue) > 0 ? 'text-red-500 font-bold' : ''}`}>
//                                                         {formatCurrency(acc.amountPastDue)}
//                                                     </TableCell>
//                                                 </TableRow>
//                                             ))}
//                                         </TableBody>
//                                     </Table>
//                                 </CardContent>
//                             </Card>
//                         </div>
//                      </div>
//                 </TabsContent>
//             </Tabs>
//         </main>
//     );
// }
}}),
"[project]/src/app/(protected)/page.tsx [app-rsc] (ecmascript, Next.js server component)": ((__turbopack_context__) => {

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.n(__turbopack_context__.i("[project]/src/app/(protected)/page.tsx [app-rsc] (ecmascript)"));
}}),

};

//# sourceMappingURL=%5Broot-of-the-server%5D__121aaccb._.js.map